<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8">
  <title>scrollTopEx</title>
  <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no">
  <style>
    
    body { margin:0; text-align: center; }
    header { width: 100%; position: fixed; top:0; left:0; background-color: orange; font-size: 1.2rem; text-transform: capitalize; }
    header .global-menu { list-style: none; margin:0 10px; padding: 0; display: flex; justify-content: flex-end; align-items: center; height: 80px; }
    header .global-menu a { text-decoration: none; color: inherit; padding: 0 10px;}
    main { height: 200vh; background-color: #CAF4FF; transition: 0.3s;}
    main h2 { margin: 0; padding-top: 180px; font-size: 3rem; }

    header.chagne-header {
      font-size: 1rem;
      background-color: rgba(255,255,255,0.7);
      backdrop-filter: blur(30px);
      border-bottom: 1px solid #000;
    }
    header.chagne-header .global-menu {
      height: 50px;
    }
    header.chagne-header + main {
      padding-top: 100px;
      background-color: #03AED2;
    }
    .go-to-up { position: fixed; bottom: 30px; left: 20px; background-color: #fff;}
  </style>
  <script src="../assets/jquery-3.7.1.min.js"></script>
</head>

<body>
  <header>
    <ul class="global-menu">
      <li><a href="#">menu1</a></li>
      <li><a href="#">menu2</a></li>
      <li><a href="#">menu3</a></li>
      <li><a href="#">menu4</a></li>
    </ul>
  </header>
  <main>
    <h2>main</h2>
  </main>
  <a href="#" class="go-to-up">맨 위로</a>
  <script>
    $('a[href="#"]').on('click',(e)=>{
      e.preventDefault(); // 요소의 기본 성격 제거
    });
    $('.go-to-up').on('click',()=>{
      $('html, body').animate({scrollTop:0},300);
    });
    let scroll=300;
    $(window).on('scroll',()=>{
      // let windowScroll=$('html,body').scrollTop();
      let scrollHt=$(e.target).scrollTop();
      if(scrollHt>scroll){
        $('header').addClass('chagne-header');
      }else{
        $('header').removeClass('chagne-header');
      }
    });
  </script>
</body>
</html>